C51 COMPILER V9.56.0.0   CODIGO_MAIN                                                       05/18/2018 19:59:39 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE CODIGO_MAIN
OBJECT MODULE PLACED IN .\Objects\codigo_main.obj
COMPILER INVOKED BY: C:\Keil_v5_C51\C51\BIN\C51.EXE codigo_main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Li
                    -stings\codigo_main.lst) TABS(2) OBJECT(.\Objects\codigo_main.obj)

line level    source

   1          #include<reg52.h>
   2          #include<lcd.h>
   3          #include<teclado.h>
   4          #include<serial.h>
   5          #include<relogio.h>
   6          #include<stdio.h>
   7          #include<string.h>
   8          
   9          
  10          //TIMER0: uso geral (atraso,...)
  11          //TIMER1: exclusivo da serial
  12          //TIMER2: exclusivo do relógio
  13          
  14          
  15          
  16          char estado;
  17          #define NORMAL 0
  18          #define BLOQUEADA 1
  19          #define AUTONOMA 2 
  20          
  21          //Variaveis onde estará registrada a hora
  22          char hora = 0;
  23          char minuto = 0;
  24          char segundo = 0;
  25          char OLU = 0;
  26          
  27          // -- Flag que indica se o microcontrolador está esperando uma resposta do PC
  28          //No  momento que o microcontrolador envia um comando que precisa de resposta
  29          //essa flag é setada para 0. No momento que o computador responde, a flag
  30          //é setada para 1.
  31          char respostaPC;
  32          #define OK 0
  33          #define PE 1
  34          #define PC 2 
  35          #define PT 3
  36          #define PS 4
  37          #define PG 5 
  38          #define PP 6 
  39          
  40          void configura_serial();
  41          
  42            xdata struct {
  43            
  44            char nome[20];
  45            char partido[5];
  46            char nPartido[3];
  47            unsigned char nVotos;
  48            
  49            }presidente[10], governador[10], senador[10];
  50          
  51          short code codigo_eleitor [] = {262659, 206603, 244444, 216628, 
  52                262645,
  53                208221,
  54                262668,
C51 COMPILER V9.56.0.0   CODIGO_MAIN                                                       05/18/2018 19:59:39 PAGE 2   

  55                230357,
  56                262672,
  57                143293,
  58                245562,
  59                262686,
  60                264768,
  61                161948,
  62                262649,
  63                231423,
  64                230340,
  65                195149,
  66                231023,
  67                231035,
  68                221689,
  69                220149,
  70                264770,
  71                216625,
  72                262670,
  73                180669,
  74                262688,
  75                186103,
  76                230230,
  77                219839,
  78                243704,
  79                243716,
  80                275628,
  81                262543,
  82                275632,
  83                275631,
  84                275629,
  85                221433,
  86                262542,
  87                275633,
  88                218776,
  89                216149,
  90                262539,
  91                207273,
  92                259797 };
  93            
  94            
  95          //Como vai funcionar: a urna tem que estar em modo standby para receber algo do teclado ou da serial.
  96          //Se ela está em modo bloqueada, ela não pode estar disponível para receber nada do teclado.
  97          //Se ela está em modo
  98          
  99          
 100          //Inicialização: configurar serial, relógio, LCD e pedir os dados de todos os candidatos possíveis 
 101            
 102            
 103          sbit BUZZER = P3^3;
 104          
 105          void main(){
 106   1        char c;
 107   1        char UB_escrito;
 108   1          //Configura a porta serial
 109   1        configura_serial();
 110   1        
 111   1        //Configura o relogio
 112   1        configura_relogio();
 113   1        
 114   1        //Inicializa o visor LCD
 115   1        LCD_init();
 116   1      
C51 COMPILER V9.56.0.0   CODIGO_MAIN                                                       05/18/2018 19:59:39 PAGE 3   

 117   1        escreve_serial("Incixializa");
 118   1        
 119   1        while(1){
 120   2      
 121   2        }
 122   1          
 123   1      }
*** WARNING C280 IN LINE 106 OF codigo_main.c: 'c': unreferenced local variable
*** WARNING C280 IN LINE 107 OF codigo_main.c: 'UB_escrito': unreferenced local variable
 124          
 125          
 126          
 127          
 128          
 129          
 130          
 131          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     20    ----
   CONSTANT SIZE    =    102    ----
   XDATA SIZE       =    870    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      6       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
